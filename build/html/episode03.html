<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3. Working with the WebIDE &mdash; Firefox OS App Development Tutorial 2nd Edition documentation</title>
    
    <link rel="stylesheet" href="_static/style.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2nd Edition',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="copyright" title="Copyright" href="copyright.html" />
    <link rel="top" title="Firefox OS App Development Tutorial 2nd Edition documentation" href="index.html" />
    <link rel="next" title="4. Submitting your Application to the Marketplace" href="episode04.html" />
    <link rel="prev" title="2. Hello World" href="episode02.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="episode04.html" title="4. Submitting your Application to the Marketplace"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="episode02.html" title="2. Hello World"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Firefox OS App Development Tutorial 2nd Edition documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="section" id="working-with-the-webide">
<span id="webide"></span><h1>3. Working with the WebIDE<a class="headerlink" href="#working-with-the-webide" title="Permalink to this headline">¶</a></h1>
<p>Welcome to Episode 3 of the Firefox OS App Development Tutorial. This episode
is about digging deeper into the Firefox OS WebIDE and learning how to debug
Firefox OS Apps.</p>
<div class="section" id="prerequisites">
<h2>3.1. Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>You have setup your machine with the Firefox OS Simulator.  If not you can
check out <a class="reference internal" href="episode01.html#dev-setup"><em>Overview and Development Setup</em></a>, which takes you through the entire setup.</li>
<li>You have installed the <tt class="docutils literal"><span class="pre">zipcodeapp</span></tt> that we covered in <a class="reference internal" href="episode02.html#hello-world"><em>Hello World</em></a>.
This tutorial uses that as an example, but if you have any other application
installed in the Firefox WebIDE, then you should be able to follow along. But
I strongly suggest getting the <a class="reference external" href="https://github.com/jelkner/zipcodeapp">zipcodeapp source code from Github</a>, and installing it as discussed
in the previous episode.</li>
</ul>
</div>
<div class="section" id="what-we-shall-cover-in-this-episode">
<h2>3.2. What we shall cover in this Episode<a class="headerlink" href="#what-we-shall-cover-in-this-episode" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Using the Firefox WebIDE.</li>
<li>Starting/stopping the simulator.</li>
<li>Adding and removing applications.</li>
<li>Observing manifest errors.</li>
<li>Refreshing an application.</li>
<li>Using Firefox Dev Tools to view console output.</li>
<li>Debugging your Firefox OS app.</li>
</ul>
</div>
<div class="section" id="using-the-firefox-webide">
<span id="index-0"></span><h2>3.3. Using the Firefox WebIDE<a class="headerlink" href="#using-the-firefox-webide" title="Permalink to this headline">¶</a></h2>
<p>To start the WebIDE open up Firefox and click on the icon in the top right that
looks like a globe behind a pencil or simply press <tt class="docutils literal"><span class="pre">shift+F8</span></tt> and the WebIDE
will open in a new window.</p>
<a class="reference internal image-reference" href="_images/webide_launch_btn.png"><img alt="WebIDE launch button" src="_images/webide_launch_btn.png" style="height: 100px;" /></a>
</div>
<div class="section" id="installing-and-connecting-to-a-simulator">
<span id="index-1"></span><h2>3.4. Installing and Connecting to a Simulator<a class="headerlink" href="#installing-and-connecting-to-a-simulator" title="Permalink to this headline">¶</a></h2>
<p>To install the simulator, navigate to the top right button called <tt class="docutils literal"><span class="pre">Select</span>
<span class="pre">Runtime</span></tt> and a dropdown menu should be appear.</p>
<a class="reference internal image-reference" href="_images/WebIDE02.png"><img alt="WebIDE Select Runtime" src="_images/WebIDE02.png" style="height: 350px;" /></a>
<p>Click on <tt class="docutils literal"><span class="pre">Install</span> <span class="pre">Simulator</span></tt> and install the latest stable version of Firefox
OS.</p>
<a class="reference internal image-reference" href="_images/WebIDE04.png"><img alt="WebIDE Install Firefox OS 2.0 simulator" src="_images/WebIDE04.png" style="height: 350px;" /></a>
<p>Returning to <tt class="docutils literal"><span class="pre">Select</span> <span class="pre">Runtime</span></tt> now shows the simulator in the menu.</p>
<a class="reference internal image-reference" href="_images/WebIDE05.png"><img alt="WebIDE Select Runtime with Firefox OS 2.0 simulator" src="_images/WebIDE05.png" style="height: 350px;" /></a>
<p>Clicking on <tt class="docutils literal"><span class="pre">Firefox</span> <span class="pre">OS</span> <span class="pre">2.0</span></tt> launches the simulator.</p>
<a class="reference internal image-reference" href="_images/WebIDE06.png"><img alt="WebIDE and running simulator" src="_images/WebIDE06.png" style="height: 400px;" /></a>
<p>To stop the simulator, simply close the window. To start it again, simply
select it from the <tt class="docutils literal"><span class="pre">Select</span> <span class="pre">Runtime</span></tt> menu in the upper right of the WebIDE.</p>
</div>
<div class="section" id="connecting-a-real-device">
<h2>3.5. Connecting a Real Device<a class="headerlink" href="#connecting-a-real-device" title="Permalink to this headline">¶</a></h2>
<p>To connect a real device to the WebIDE via USB, you have to have the developer
menu turned on and <tt class="docutils literal"><span class="pre">ADB</span> <span class="pre">and</span> <span class="pre">Devtools</span></tt> selected under <tt class="docutils literal"><span class="pre">Debugging</span> <span class="pre">via</span> <span class="pre">USB</span></tt>.
<a class="reference external" href="https://developer.mozilla.org/en-US/Firefox_OS/Debugging/Developer_settings">https://developer.mozilla.org/en-US/Firefox_OS/Debugging/Developer_settings</a> has
more information on this.</p>
<p>Next just connect your phone to the computer running WebIDE with a USB cable.
You should then see the device listed under the <tt class="docutils literal"><span class="pre">Select</span> <span class="pre">Device</span></tt> menu.</p>
<a class="reference internal image-reference" href="_images/select_runtime_with_flame.png"><img alt="Select Runtime menu showing Flame device" src="_images/select_runtime_with_flame.png" style="height: 400px;" /></a>
<p>..index:: Installing/removing apps</p>
</div>
<div class="section" id="adding-and-removing-an-application">
<h2>3.6. Adding and Removing an Application<a class="headerlink" href="#adding-and-removing-an-application" title="Permalink to this headline">¶</a></h2>
<p>To install an app on a device, either the WebIDE or an actual device, do the
following:</p>
<ol class="arabic">
<li><p class="first">Select <tt class="docutils literal"><span class="pre">Open</span> <span class="pre">App</span></tt> -&gt; <tt class="docutils literal"><span class="pre">Open</span> <span class="pre">Packaged</span> <span class="pre">App...</span></tt> and navidate to the source
directory containing your packaged app.</p>
</li>
<li><p class="first">Click the <tt class="docutils literal"><span class="pre">Open</span></tt> button. The WebIDE will then read the manifest, validate
it.</p>
<a class="reference internal image-reference" href="_images/deploying_app2.png"><img alt="Valid app in WebIDE" src="_images/deploying_app2.png" style="height: 350px;" /></a>
</li>
<li><p class="first">Click the triangle icon to deploy the app.</p>
<a class="reference internal image-reference" href="_images/deploying_app3.png"><img alt="App deployed to simulator" src="_images/deploying_app3.png" style="height: 400px;" /></a>
<a class="reference internal image-reference" href="_images/deploying_app4.png"><img alt="App deployed to simulator" src="_images/deploying_app4.png" style="height: 400px;" /></a>
</li>
<li><p class="first">The app is now installed and ready for use.</p>
<a class="reference internal image-reference" href="_images/deploying_app5.png"><img alt="App in phone menu" src="_images/deploying_app5.png" style="height: 400px;" /></a>
</li>
</ol>
<p>If you want to remove an application, you will find a X icon next to each
application when the icon is held down as shown in the screenshot below.
Simply click that and your application should get removed from the simulator.</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/deploying_app6.png"><img alt="Deleting apps" src="_images/deploying_app6.png" style="height: 400px;" /></a>
</div></blockquote>
</div>
<div class="section" id="observing-manifest-errors">
<span id="index-2"></span><h2>3.7. Observing Manifest Errors<a class="headerlink" href="#observing-manifest-errors" title="Permalink to this headline">¶</a></h2>
<p>The manifest.webapp file as we have learned so far is the single most important
file for your web application. It contains meta information about your
application and is used by the OS to learn about the app, its permissions, the
different icons, and the launch URL. There are mandatory and optional elements
and the OS Simulator does a good check of determining if you have missed out
something. If you have, it throws back the errors at you right in the
dashboard at the time of adding or refreshing the application.</p>
<p>Try out the following: open up your manifest.webapp file in the editor and
remove the name element. Try to add or refresh the element, and notice that
the simulator is not too happy with what you have done.  It will throw back a
validation message. A sample screenshot of the error is shown below:</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/manifest_error1.png"><img alt="Manifest name error" src="_images/manifest_error1.png" style="height: 350px;" /></a>
</div></blockquote>
<p>Manifest errors are common. It is normal to make mistakes here since you might
be using a text editor to type in things. Errors could range from XML
validation errors to missing out of mandatory parameters, etc.</p>
<p>Correcting the errors is as simple as rectifying the mistakes in your
manifest.webapp file and then refreshing the app. It&#8217;s as simple as that.</p>
</div>
<div class="section" id="refreshing-an-application">
<h2>3.8. Refreshing an Application<a class="headerlink" href="#refreshing-an-application" title="Permalink to this headline">¶</a></h2>
<p>A normal development cycle will involve incremental development. You will
develop a screen or functionality, see it work within the simulator and move on
to the next one and so on. You need a quick way or refreshing or reloading
your application into the OS Simulator. It couldn’t be easier with the Firefox
OS Simulator. All you need to do is make your changes in the WebIDE as you
have been doing and then click on the refresh button located at the top.</p>
<p>The Simulator will reload and relaunch your application. It will also reload
the manifest.webapp file and validate it for you before it reloads your new
version.</p>
</div>
<div class="section" id="using-firefox-dev-tools">
<span id="index-3"></span><h2>3.9. Using Firefox Dev Tools<a class="headerlink" href="#using-firefox-dev-tools" title="Permalink to this headline">¶</a></h2>
<p>When was the last time that you wrote an application that did not have errors
or did not involve debugging? Never… correct? It is time that you get
familiar with the Developer Tools that are shipped within the Firefox Browser
itself.  While going into the details of the Developer Tools, it is suffice to
cover it briefly here. Then, at the very least, you can start putting in
console or logging statements to understand and help you debug what could be
going on in the application.  The developer tools can also be used to do things
like monitor the network traffic, see the HTTP request/response, change styles
for the HTML Elements and much more.</p>
<p>To open up the Developer Tools for your particular Firefox OS Application, all
you need to do is click on the wrench button located at the top of the WebIDE.
In this case we are doing it for the Zipcodes application:</p>
<p>When you click on the wrench, it will open up the Dev Tools window in your
browser as shown below and will allow you to monitor your application and
easily debug it.</p>
<p>The screenshot of the Dev Tools is shown below:</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/dev_tools1.png"><img alt="Dev Tools Window" src="_images/dev_tools1.png" style="height: 350px;" /></a>
</div></blockquote>
<p>Now, when we run the application in the OS Simulator by entering a few ZIP codes
and get the result, you will see that network calls are traced.  Additionally
any console.log statements that you would have used in your code (and which we
did for printing out the result) will be seen in the output too.  This is very
useful for understanding what is happening at different stages in your
application.</p>
<p>You will notice from the screenshot below that it also shows the line number of
the file (zipcode.js:19) which had in the console.log statement in your code. If you click on the hyperlink of the filename:linenumber, it will even open up
your code at that exact point.</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/debugging1.png"><img alt="Console.log Statements" src="_images/debugging1.png" style="height: 350px;" /></a>
</div></blockquote>
<p>For more information on Dev Tools, visit Developer Tools note on the Mozilla
Developer Network.</p>
</div>
<div class="section" id="debugging-a-firefox-os-app">
<span id="index-4"></span><h2>3.10. Debugging a Firefox OS App<a class="headerlink" href="#debugging-a-firefox-os-app" title="Permalink to this headline">¶</a></h2>
<p>Now comes the interesting part. We shall see how to use Developer Tools to help
debug the application. By debugging an application, we mean not just putting
console.log statements but breakpoints and single-stepping through your code
line by line.  Just like you would in any other Developer IDE (Integrated
Development Environment).</p>
<p>Follow the steps below patiently. We will assume that you have launched the
ZIP codes application locally and it has come up with its first screen on the OS
Simulator.</p>
<p>Make sure you have started your Firefox OS App as explained in the earlier
section. Go to the Debugger tab as shown below:</p>
<p>You shall see that the index.html page is highlighted and the source code is
visible in the pane to the right.  What we are going to do now is to put a
breakpoint in some section of our code.  We shall put the breakpoint right at
the point where we receive the response from our call to the public API. Fair
enough?</p>
<p>On the right side of the pane, where you see the code, scroll down a bit till
you come to the section as shown below:</p>
<p>Go ahead and tap in the gutter near <strong>line 19</strong> in <tt class="docutils literal"><span class="pre">zipcode.js</span></tt>. When you tap on it a
circular icon should appear, which means that the breakpoint is set. If
you tap again on that, it will toggle and the breakpoint will be cleared. Just
like any other Debugging environment that you have worked with.</p>
<p>Once again, just for the sake of repeating, we have put the breakpoint on <strong>line
19</strong>, which is where we have placed our console.log statement.</p>
<p>Now, switch over to your OS Simulator, which is running the Zipcodes App and
enter the ZIP code 90210 (a valid US ZIP code) as shown below. Click on the
Search button.</p>
<p>You will notice that in your console, nothing is logged and the ZIP code information is not deisplayed because the Application execution will halt at the breakpoint. Switch over to your Dev Tools view
and you will see the application execution waiting for you as shown below:</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/breakpoint1.png"><img alt="Breakpoint" src="_images/breakpoint1.png" style="height: 300px;" /></a>
</div></blockquote>
<p>To continue executing the code, simply click the play button shown in the top left corner.</p>
</div>
<div class="section" id="next-steps">
<h2>3.11. Next Steps<a class="headerlink" href="#next-steps" title="Permalink to this headline">¶</a></h2>
<p>I encourage you try out debugging because it will be needed as you progress
along in your Firefox Apps. Put in some breakpoints, single step through the
code, inspect some variables, etc.</p>
</div>
<div class="section" id="coming-up-next">
<h2>3.12. Coming up Next<a class="headerlink" href="#coming-up-next" title="Permalink to this headline">¶</a></h2>
<p>The next episode cover Firefox Marketplace and the steps to submitting and publishing your Firefox OS Application.</p>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="episode04.html" title="4. Submitting your Application to the Marketplace"
             >next</a> |</li>
        <li class="right" >
          <a href="episode02.html" title="2. Hello World"
             >previous</a> |</li>
        <li><a href="index.html">Firefox OS App Development Tutorial 2nd Edition documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; <a href="copyright.html">Copyright</a> 2015, Romin Irani.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>